docker.enabled = true
docker.fixOwnership = true
cleanup = true

datetime = String.format('%tY%<tm%<td_%<tH%<tM', java.time.LocalDateTime.now())

params {

    help = null

    // Required inputs (specify on command line)
    samplesheet = null
    reference_transcriptome = null
    probing_reagent = null // either 'dms' or 'shape'
    sequencing_protocol = null // either 'single_end' or 'paired_end'

    // Defaults
    outdir   = "$projectDir/results/${datetime}/"
    read1_adapter = "AGATCGGAAGAGCACACGTCTGAACTCCAGTCA"
    read2_adapter = "ACACTCTTTCCCTACACGACGCTCTTCCGATCT" // N.B. reverse-complemented to trim unassembled PEAR reads
    quality_cutoff = 17
    min_read_length = 40
    run_draco = false
    draco_subsampling = 10000

}

if (params.run_draco) {

    conda.enabled = true

    process {
        withName: 'DRACO' {
            conda = '/path/to/conda/envs/DRACO'
        }
    }
}